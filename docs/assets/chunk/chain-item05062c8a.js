var D=Object.defineProperty;var v=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;var w=(t,a,e)=>a in t?D(t,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[a]=e,b=(t,a)=>{for(var e in a||(a={}))S.call(a,e)&&w(t,e,a[e]);if(v)for(var e of v(a))j.call(a,e)&&w(t,e,a[e]);return t};import{_ as k,d as F}from"../entry/indexfa44c11a.js";import{e as q}from"./indexb1f5abb7.js";import{u as B}from"./chart-option44acf56d.js";import{j as T,x as _,D as $,r as o,o as h,k as f,w as y,m as i,v as x,s as I,t as N}from"./vendorfcaffdeb.js";const O=T({props:{title:{type:String,default:""},quota:{type:String,default:""},chartType:{type:String,default:""}},setup(t){const{loading:a,setLoading:e}=F(!0),l=_(0),n=_(100),m=$(()=>n.value>50),r=_([]),{chartOption:p}=B(()=>({grid:{left:0,right:0,top:0,bottom:0},xAxis:{type:"category",show:!1},yAxis:{show:!1},tooltip:{show:!0,trigger:"axis",formatter:"{c}"},series:[b({data:r.value},t.chartType==="bar"?{type:"bar",barWidth:7,barGap:"0"}:{type:"line",showSymbol:!1,smooth:!0,lineStyle:{color:"#4080FF"}})]}));return(async d=>{try{const{data:s}=await q(d),{chartData:u}=s;l.value=s.count,n.value=s.growth,u.data.value.forEach((c,C)=>{t.chartType==="bar"?r.value.push({value:c,itemStyle:{color:C%2?"#468DFF":"#86DF6C"}}):r.value.push(c)})}catch{}finally{e(!1)}})({quota:t.quota}),{loading:a,count:l,growth:n,chartOption:p,isUp:m}}}),U={class:"content"},V={class:"chart"};function A(t,a,e,l,n,m){const r=o("a-statistic"),p=o("a-icon-arrow-rise"),g=o("a-icon-arrow-fall"),d=o("a-typography-text"),s=o("Chart"),u=o("a-card"),c=o("a-spin");return h(),f(c,{loading:t.loading,style:{width:"100%"}},{default:y(()=>[i(u,{class:"general-card",title:t.title,"header-style":{paddingBottom:"12px"}},{default:y(()=>[x("div",U,[i(r,{value:t.count,"show-group-separator":!0,"value-from":0,animation:""},null,8,["value"]),i(d,{class:"percent-text",type:t.isUp?"danger":"success"},{default:y(()=>[I(N(t.growth)+"% ",1),t.isUp?(h(),f(p,{key:0})):(h(),f(g,{key:1}))]),_:1},8,["type"])]),x("div",V,[i(s,{option:t.chartOption},null,8,["option"])])]),_:1},8,["title"])]),_:1},8,["loading"])}var H=k(O,[["render",A],["__scopeId","data-v-f73bfef4"]]);export{H as default};
