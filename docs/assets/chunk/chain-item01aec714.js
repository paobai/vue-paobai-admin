import{_ as D,d as A}from"../entry/indexfa44c11a.js";import{c as F}from"./indexb1f5abb7.js";import{u as _}from"./chart-option44acf56d.js";import{j,x as s,r,o as b,k as O,w as l,m as n,v as p,s as C,t as B,y as E,n as k}from"./vendorfcaffdeb.js";const q=()=>{const t=s([]),{chartOption:e}=_(()=>({grid:{left:0,right:0,top:10,bottom:0},xAxis:{type:"category",show:!1},yAxis:{show:!1},tooltip:{show:!0,trigger:"axis"},series:{name:"total",data:t,type:"bar",barWidth:7,itemStyle:{borderRadius:2}}}));return{data:t,chartOption:e}},N=()=>{const t=s([[],[]]),{chartOption:e}=_(()=>({grid:{left:0,right:0,top:10,bottom:0},xAxis:{type:"category",show:!1},yAxis:{show:!1},tooltip:{show:!0,trigger:"axis"},series:[{name:"2001",data:t.value[0],type:"line",showSymbol:!1,smooth:!0,lineStyle:{color:"#165DFF",width:3}},{name:"2002",data:t.value[1],type:"line",showSymbol:!1,smooth:!0,lineStyle:{color:"#6AA1FF",width:3,type:"dashed"}}]}));return{data:t,chartOption:e}},T=()=>{const t=s([]),{chartOption:e}=_(()=>({grid:{left:0,right:0,top:0,bottom:0},legend:{show:!0,top:"center",right:"0",orient:"vertical",icon:"circle",itemWidth:6,itemHeight:6,textStyle:{color:"#4E5969"}},tooltip:{show:!0},series:[{name:"\u603B\u8BA1",type:"pie",radius:["50%","70%"],label:{show:!1},data:t}]}));return{data:t,chartOption:e}},V=j({props:{title:{type:String,default:""},quota:{type:String,default:""},chartType:{type:String,default:""},cardStyle:{type:Object,default:()=>({})}},setup(t){const{loading:e,setLoading:m}=A(!0),{chartOption:g,data:d}=N(),{chartOption:v,data:h}=q(),{chartOption:i,data:u}=T(),c=s({count:0,growth:0,chartData:[]}),o=s({});return(async S=>{try{const{data:y}=await F(S);c.value=y;const{chartData:f}=y;t.chartType==="bar"?(f.forEach((a,x)=>{h.value.push({value:a.y,itemStyle:{color:x%2?"#2CAB40":"#86DF6C"}})}),o.value=v.value):t.chartType==="line"?(f.forEach(a=>{a.name==="2021"?d.value[0].push(a.y):d.value[1].push(a.y)}),o.value=g.value):(f.forEach(a=>{u.value.push(a)}),o.value=i.value)}catch{}finally{m(!1)}})({quota:t.quota}),{loading:e,renderData:c,chartOption:o}}}),$={class:"content-wrap"},I={class:"content"},L={class:"desc"},W=C(" \u8F83\u6628\u65E5 "),z={class:"chart"};function H(t,e,m,g,d,v){const h=r("a-statistic"),i=r("a-typography-text"),u=r("a-icon-arrow-rise"),c=r("Chart"),o=r("a-card"),w=r("a-spin");return b(),O(w,{loading:t.loading,style:{width:"100%"}},{default:l(()=>[n(o,{bordered:!1,style:k([t.cardStyle,{width:"100%"}])},{default:l(()=>[p("div",$,[p("div",I,[n(h,{title:t.title,value:t.renderData.count,"value-from":0,animation:"","show-group-separator":""},null,8,["title","value"]),p("div",L,[n(i,{type:"secondary",class:"label"},{default:l(()=>[W]),_:1}),n(i,{type:"danger"},{default:l(()=>[C(B(t.renderData.growth)+" ",1),n(u)]),_:1})])]),p("div",z,[t.loading?E("",!0):(b(),O(c,{key:0,option:t.chartOption},null,8,["option"]))])])]),_:1},8,["style"])]),_:1},8,["loading"])}var K=D(V,[["render",H],["__scopeId","data-v-848570fa"]]);export{K as default};
